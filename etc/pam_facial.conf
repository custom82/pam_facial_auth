###############################################################################
# pam_facial_auth — Configurazione generica
###############################################################################

# Directory principale dove salvare immagini e modelli
# images/: per acquisizioni
# models/: per modelli LBPH/Eigen/Fisher
basedir=/etc/pam_facial_auth

# Dispositivo webcam
device=/dev/video0
fallback_device=yes

# Risoluzione acquisizione
width=640
height=480

# Numero di frame da analizzare
frames=10

# Delay tra frame (ms)
sleep_ms=100

# Debug (stampa dettagliata)
debug=no

# Disabilita GUI
nogui=yes

################################################################################
# Face DETECTION
#
# detector_profile può essere:
#   haar        → Haar Cascade tradizionale
#   yunet_cpu   → DNN YUNet (CPU)
#   yunet_cuda  → DNN YUNet (GPU CUDA)
################################################################################

# Scegli il detector
detector_profile=yunet_cpu

# Percorso al modello YUNet
# - Puoi usare quello di OpenCV Zoo
# - Oppure copiarlo sotto /usr/share/pam_facial_auth/
#
# Esempio YUNet:
#   face_detection_yunet_2023mar.onnx
yunet_model=/usr/share/opencv_zoo/face_detection_yunet_2023mar.onnx

# Haar Cascade per fallback (obbligatorio se detector_profile=haar)
haar_cascade_path=/usr/share/opencv4/haarcascades/haarcascade_frontalface_default.xml


################################################################################
# Face RECOGNITION
#
# Opzioni possibili:
#   lbph
#   eigen
#   fisher
#   sface      ← moderno, consigliato
################################################################################

# Default recognizer
training_method=sface

# Modello SFace (per embedding DNN)
# Disponibile nello zoo:
#   face_recognition_sface_2021dec.onnx
#   face_recognition_sface_2021dec_int8.onnx
sface_model=/usr/share/opencv_zoo/face_recognition_sface_2021dec.onnx

# Soglia cosine distance (0.4-0.6 consigliato)
sface_threshold=0.50


################################################################################
# Parametri legacy per LBPH/Eigen/Fisher
################################################################################
lbph_threshold=80.0
eigen_threshold=3500.0
fisher_threshold=1000.0

# Numero componenti (0=default)
eigen_components=0
fisher_components=0


################################################################################
# Logging
################################################################################
log_file=/var/log/pam_facial_auth.log

