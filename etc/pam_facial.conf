###############################################
# PAM Facial Authentication Configuration
###############################################

# Directory base per modelli e immagini
basedir=/etc/pam_facial_auth

# Dispositivo della webcam
device=/dev/video0
fallback_device=yes

# Risoluzione acquisizione
width=640
height=480

# Numero di frame da catturare
frames=10

# Delay tra frame (millisecondi)
sleep_ms=150

# Abilita modalità debug
debug=no

# Disabilita GUI
nogui=yes

#################################################
# Modelli di riconoscimento
#################################################

# Metodo di riconoscimento:
#   sface (DNN)
#   sface_int8 (DNN quantizzato)
#   lbph / eigen / fisher (classici)
recognizer_profile=sface

# Soglia SFace (cosine similarity)
sface_threshold=0.65

# Percorsi modelli SFace
sface_model=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec.onnx
sface_model_int8=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec_int8.onnx

#################################################
# Detector (Haar o YuNet)
#################################################

# auto / haar / yunet / yunet_int8
detector_profile=auto

# Modelli YuNet
yunet_model=/usr/share/opencv4/dnn/models/face_detect_yunet_2023mar.onnx
yunet_model_int8=/usr/share/opencv4/dnn/models/face_detect_yunet_2023mar_int8.onnx

# Haar Cascade (fallback)
haar_model=/usr/share/opencv4/haarcascades/haarcascade_frontalface_default.xml

#################################################
# BACKEND DNN (NOVITÀ)
#################################################

# Backend:
#   auto  = usa CUDA se possibile, altrimenti CPU
#   cpu   = forza backend CPU
#   cuda  = forza backend CUDA + cuDNN
#   cuda_fp16 = usa Tensor Cores FP16 (se disponibili)
#   opencl = backend OpenCL
dnn_backend=auto

# Target:
#   auto      = selezione automatica
#   cpu       = CPU
#   cuda      = CUDA
#   cuda_fp16 = CUDA FP16
#   opencl    = OpenCL
dnn_target=auto

#################################################
# Parametri vari
#################################################

ignore_failure=no
save_failed_images=no
force_overwrite=no
training_method=auto
log_file=/var/log/pam_facial_auth.log
image_format=jpg
