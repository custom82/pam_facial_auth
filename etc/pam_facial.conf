###############################################
# PAM Facial Authentication - Configuration
###############################################

#################################################
# STORAGE DIRECTORIES
#################################################

# Base directory where user images and recognition models are stored.
# Example structure:
#   basedir/
#       images/<user>/*.jpg
#       models/<user>.xml
basedir=/var/lib/pam_facial_auth

# Image format for captured face crops:
#   jpg | png
image_format=jpg



#################################################
# CAMERA SETTINGS
#################################################

# Primary video device for face capture
device=/dev/video0

# If enabled, automatically tries /dev/video0..2 if the main device fails
fallback_device=yes

# Frame resolution
width=640
height=480

# Number of frames captured during training and testing
frames=10

# Delay between frames in milliseconds
sleep_ms=150

# Enable verbose debugging output to stderr
debug=no

# GUI disabled (reserved for future GUI integration)
nogui=yes



#################################################
# FACE RECOGNIZER (IDENTITY MATCHING)
#################################################
# Allowed values:
#
#   sface_fp32       → SFace ONNX model (float32, highest accuracy)
#   sface_int8       → SFace ONNX INT8 model (faster, slightly less accurate)
#   lbph             → Classic LBPH recognizer
#   eigen            → Classic EigenFaces recognizer
#   fisher           → Classic FisherFaces recognizer
#
# SFace FP32 recommended if supported.
#################################################

recognizer_profile=sface_fp32

# SFace cosine similarity threshold (higher = stricter)
sface_threshold=0.65



#################################################
# RECOGNIZER MODEL FILES
#################################################
# Used when recognizer_profile starts with "sface"
#################################################

# SFace FP32 model (.onnx)
recognize_sface_model_fp32=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec.onnx

# SFace INT8 model (.onnx)
recognize_sface_model_int8=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec_int8.onnx



#################################################
# FACE DETECTOR (FACE LOCATION)
#################################################
# Allowed values:
#
#   auto             → automatic selection:
#                         1) YuNet FP32
#                         2) YuNet INT8
#                         3) Haar detector
#
#   haar             → Haar Cascade
#   yunet_fp32       → YuNet ONNX FP32 model
#   yunet_int8       → YuNet ONNX INT8 model
#################################################

detector_profile=auto



#################################################
# DETECTOR MODEL FILES
#################################################
# These MUST match the actual filenames installed in OpenCV!
#################################################

# Haar detector model (XML)
detect_haar_model=/usr/share/opencv4/haarcascades/haarcascade_frontalface_default.xml

# YuNet FP32 model (ONNX)
detect_yunet_model_fp32=/usr/share/opencv4/dnn/models/face_detection_yunet_2023mar.onnx

# YuNet INT8 model (ONNX)
detect_yunet_model_int8=/usr/share/opencv4/dnn/models/face_detection_yunet_2023mar_int8.onnx



#################################################
# DNN BACKEND AND TARGET (OpenCV DNN)
#################################################
# These determine how ONNX models (SFace/YuNet) are executed.
#
# Allowed values for dnn_backend:
#   auto          → choose CUDA if available, else CPU
#   cpu           → CPU only
#   cuda          → CUDA backend
#   cuda_fp16     → CUDA FP16 (Tensor Cores)
#   opencl        → OpenCL backend
#
# Allowed values for dnn_target:
#   auto          → best available
#   cpu           → CPU
#   cuda          → CUDA GPU
#   cuda_fp16     → CUDA FP16
#   opencl        → OpenCL device
#################################################

dnn_backend=auto
dnn_target=auto



#################################################
# EXTRA OPTIONS (LEGACY)
#################################################

ignore_failure=no
save_failed_images=no
force_overwrite=no
training_method=auto
