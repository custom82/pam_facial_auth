###############################################################
#   PAM Facial Authentication – Configuration File (2025)
###############################################################

# =============================================================
# PATH MODELLI E DIRECTORY BASE
# =============================================================

# Directory dove vengono salvati i modelli degli utenti.
# Ogni utente ha un file:  models/<user>.xml
models_dir=/etc/pam_facial_auth/models

# Directory per debug, log e immagini catturate (opzionale)
work_dir=/var/lib/pam_facial_auth

# =============================================================
# IMPOSTAZIONI CAMERA
# =============================================================

# Dispositivo predefinito della webcam
device=/dev/video0

# Se fallisce, prova automaticamente /dev/video1
fallback_device=true

# Risoluzione di cattura
width=640
height=480

# Numero di frame da catturare per facial_training
capture_count=50

# Delay in millisecondi tra i frame
capture_delay=50

# =============================================================
# FACE DETECTOR
# =============================================================

# detector_profile può essere:
#   yunet       -> usa OpenCV YuNet ONNX (raccomandato)
#   yunet_int8  -> versione INT8 più veloce
#   haar        -> HaarCascade tradizionale (fallback)
#   none        -> disabilita il face detector (mai usare)
detector_profile=yunet

# PATH ai modelli YuNet (installati da OpenCV)
# Puoi anche indicarli a mano se non usi Gentoo o opencv_zoo
yunet_model=/usr/share/opencv4/dnn/models/face_detection_yunet_2023mar.onnx
yunet_model_int8=/usr/share/opencv4/dnn/models/face_detection_yunet_2023mar_int8.onnx

# Haar cascade (fallback)
haar_model=/usr/share/opencv4/haarcascades/haarcascade_frontalface_default.xml

# =============================================================
# RECOGNIZER
# =============================================================
# libfacialauth ora salva nel modello XML il tipo di recognizer.
# Ma puoi forzarlo qui.
#
# recognizer può essere:
#   eigen
#   fisher
#   lbph
#   sface
#   auto            -> usa quello presente nel modello (raccomandato)

recognizer=auto

# =============================================================
# MODELLI SFace (onnx)
# =============================================================
# Usa quelli installati da contribdnn (Gentoo li installa qui)

sface_model=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec.onnx
sface_model_int8=/usr/share/opencv4/dnn/models/face_recognition_sface_2021dec_int8.onnx

# =============================================================
# THRESHOLDS
# =============================================================
# Soglie predefinite:
#
#   eigen:   più basso = più severo   (50–500)
#   fisher:  (50–200)
#   lbph:    (40–
